<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>你不得不清楚的 Javascript 文件系统 | TaroXin Blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/blog/favicon.ico">
    <meta name="description" content="泰罗凹凸曼文章集散地1">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/blog/assets/css/1.styles.6c4638a4.css" as="style"><link rel="preload" href="/blog/assets/js/app.9d423c3b.js" as="script"><link rel="preload" href="/blog/assets/js/11.ebf2347a.js" as="script"><link rel="preload" href="/blog/assets/js/12.52e6032a.js" as="script"><link rel="preload" href="/blog/assets/js/18.677ca2e4.js" as="script">
    <link rel="stylesheet" href="/blog/assets/css/1.styles.6c4638a4.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/assets/img/header.png" alt="TaroXin Blog" class="logo"> <span class="site-name can-hide">TaroXin Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">泰罗GO</a></div><div class="nav-item"><a href="/blog/pages/2d6556/" class="nav-link">我的收藏</a></div><div class="nav-item"><a href="/blog/archives/" class="nav-link">所有文章</a></div> <a href="https://github.com/taroxin" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://taro-sources-1253403255.cos.ap-guangzhou.myqcloud.com/2023-6/header.png"> <div class="blogger-info"><h3>泰罗凹凸曼/TaroXin</h3> <span>凹凸曼界最会写代码的</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">泰罗GO</a></div><div class="nav-item"><a href="/blog/pages/2d6556/" class="nav-link">我的收藏</a></div><div class="nav-item"><a href="/blog/archives/" class="nav-link">所有文章</a></div> <a href="https://github.com/taroxin" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/blog/pages/7def50/" class="sidebar-link">用 JavaScript 写出一个彩票系统？</a></li><li><a href="/blog/pages/61abab/" class="sidebar-link">一文读懂 JavaScript 位运算，源码里的骚操作可能都是基于它实现的！</a></li><li><a href="/blog/pages/f93fae/" class="sidebar-link">尤大：不会说 Rap 的前端不是好前端！写一个 v-rap 指令！</a></li><li><a href="/blog/pages/4112aa/" aria-current="page" class="active sidebar-link">你不得不清楚的 Javascript 文件系统</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/blog/pages/4112aa/#选择文件" class="sidebar-link">选择文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blog/pages/4112aa/#降级方案" class="sidebar-link">降级方案</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blog/pages/4112aa/#读取文件内容" class="sidebar-link">读取文件内容</a></li><li class="sidebar-sub-header level2"><a href="/blog/pages/4112aa/#保存文件" class="sidebar-link">保存文件</a></li><li class="sidebar-sub-header level2"><a href="/blog/pages/4112aa/#文件操作" class="sidebar-link">文件操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/blog/pages/4112aa/#创建文件" class="sidebar-link">创建文件</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4112aa/#删除文件" class="sidebar-link">删除文件</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4112aa/#移动文件" class="sidebar-link">移动文件</a></li><li class="sidebar-sub-header level3"><a href="/blog/pages/4112aa/#重命名文件" class="sidebar-link">重命名文件</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/blog/pages/4112aa/#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/blog/pages/1b3356/" class="sidebar-link">你需要更优雅的 Dialog/Modal 使用姿势！弹窗组件如何实现业务自驱！</a></li><li><a href="/blog/pages/5711c9/" class="sidebar-link">那些足够优秀的 JavaScript 代码片段!</a></li><li><a href="/blog/pages/d371e4/" class="sidebar-link">优雅的路由设计，能提升多少开发效率？</a></li><li><a href="/blog/pages/34725e/" class="sidebar-link">自定义弹窗？你只需要一个标签就够了！</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06970110><div class="articleInfo" data-v-06970110><ul class="breadcrumbs" data-v-06970110><li data-v-06970110><a href="/blog/" title="首页" class="iconfont icon-home router-link-active" data-v-06970110></a></li> <li data-v-06970110><a href="/blog/categories/?category=JavaScript" title="分类" data-v-06970110>JavaScript</a></li></ul> <div class="info" data-v-06970110><div title="作者" class="author iconfont icon-touxiang" data-v-06970110><a href="https://github.com/taroxin" target="_blank" title="作者" class="beLink" data-v-06970110>TaroXin/泰罗凹凸曼</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06970110><a href="javascript:;" data-v-06970110>2023-03-22</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">你不得不清楚的 Javascript 文件系统<!----></h1> <!----> <div class="theme-vdoing-content content__default"><p>你好，我是泰罗凹凸曼，最近在使用几个软件的时候，发现了一些很有意思的文件相关 API，可以直接操作电脑上的文件并且进行修改，今天我们就简单梳理一下 Javascript 文件系统的相关知识。</p> <p>我们可以先尝试下这几个软件，前两个是常用的绘图软件，后面是我们比较熟悉的 VSCode 编辑器。无一例外，他们都支持直接打开本地文件，而且可以直接对文件进行修改。</p> <ul><li><a href="https://excalidraw.com/" target="_blank" rel="noopener noreferrer">excalidraw<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://app.diagrams.net/" target="_blank" rel="noopener noreferrer">drawio<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://vscode.dev/" target="_blank" rel="noopener noreferrer">vscode<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p><img src="https://taro-sources-1253403255.cos.ap-guangzhou.myqcloud.com/2023-6/1682056831441.png" alt=""></p> <h2 id="选择文件"><a href="#选择文件" class="header-anchor">#</a> 选择文件</h2> <p>我们平时在选择文件的时候，是通过如下  <code>&lt;input type='file'/&gt;</code>  来选择文件的，接着通过 FileReader 之类的 API 来获取文件内容，随着现在 Web 的发展，我们可以直接通过内置的  <code>window.showOpenFilePicker</code>  来直接打开文件的选择框。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">showOpenFilePicker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">fileHandle</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fileHandle<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 我们也可以使用 showDirectoryPicker 来选择文件夹</span>
window<span class="token punctuation">.</span><span class="token function">showDirectoryPicker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">fileHandle</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fileHandle<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><code>showOpenFilePicker</code>  和  <code>showDirectoryPicker</code>  都可以接受一个 options 选项，可以指定的内容如下：</p> <ul><li>multiple：是否可以多选</li> <li>excludeAcceptAllOption：是否显示所有文件选项，默认的选择器 UI 是禁止掉未指定的类型的，这个字段可以控制是否彻底不允许选择
<ul><li>值为 true，不允许选择在 types 中未指定的文件类型</li> <li>值为 false，允许选择在 types 中未指定的文件类型，可以通过 <code>选项</code> 按钮中的所有文件选择其他文件类型</li></ul></li> <li>types：指定文件类型，Array 类型
<ul><li>description：文件类型描述</li> <li>accept：文件类型，Object 类型
<ul><li>image/*: ['.png', '.jpg'] // 指定文件类型和后缀名</li></ul></li></ul></li></ul> <p>如下简单是选择文件的简单示例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 如果需要限制文件选择的类型，必须通过这种方式去指定，直接通过后缀名的方式是不能做到限制的！！
 * 'image/png': ['.png'],
 * 'image/jpeg': ['.jpg'],
 */</span>


<span class="token comment">// 返回的 fileHandle 是一个 FileSystemFileHandle 类型</span>
<span class="token keyword">const</span> fileHandle <span class="token operator">=</span> <span class="token keyword">await</span> window<span class="token punctuation">.</span><span class="token function">showOpenFilePicker</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">multiple</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">excludeAcceptAllOption</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">types</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">'Images'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">accept</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">'image/png'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.png'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">'image/jpeg'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.jpg'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>我们可以通过  <code>FileSystemFileHandle</code>  来获取文件的信息，如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> fileData <span class="token operator">=</span> <span class="token keyword">await</span> FileSystemFileHandle<span class="token punctuation">.</span><span class="token function">getFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 这里的 fileData 就是一个普通的 File 对象</span>
<span class="token comment">// 和 input[type='file'] 选择的文件一样</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>接着，我们就可以使用  <code>FileReader</code>  API 来进行文件的内容读取了！</p> <h3 id="降级方案"><a href="#降级方案" class="header-anchor">#</a> 降级方案</h3> <p><code>window.showOpenFilePicker</code>  是一个新的 API，目前的支持度很低：</p> <p><img src="https://taro-sources-1253403255.cos.ap-guangzhou.myqcloud.com/2023-6/1682065969860.png" alt=""></p> <p>那么在不支持这个 API 的浏览器上，我们依然可以通过降级到  <code>input</code>  来实现文件的选择！</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">openFile</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>showOpenFilePicker<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> window<span class="token punctuation">.</span><span class="token function">showOpenFilePicker</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span>
    input<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'file'</span>
    input<span class="token punctuation">.</span>multiple <span class="token operator">=</span> options<span class="token punctuation">.</span>multiple
    input<span class="token punctuation">.</span>accept <span class="token operator">=</span> options<span class="token punctuation">.</span>types<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>accept
    input<span class="token punctuation">.</span><span class="token function-variable function">onchange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>input<span class="token punctuation">.</span>files<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    input<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="读取文件内容"><a href="#读取文件内容" class="header-anchor">#</a> 读取文件内容</h2> <p>我们可以使用 FileReader 来实现对文件的读取，一般情况下，我们需要处理两种文件类型的读取</p> <ul><li>文本类型，如代码文件，文本文件，如后缀为 .vue, .js, .txt 等都属于文本类型</li> <li>图片类型，一般用于选择文件后进行回显</li></ul> <p>FileReader 的初始化非常简单：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>我们可以通过 reader 的方法来读取文件内容，如下：</p> <ul><li>readAsArrayBuffer：读取文件内容为 ArrayBuffer</li> <li>readAsBinaryString：读取文件内容为二进制字符串</li> <li>readAsDataURL：<strong>读取文件内容为 DataURL，用于读取图片类型的文件，可以直接用于 img 的 src 属性</strong></li> <li>readAsText：<strong>读取文件内容为文本，用于读取文本类型</strong></li></ul> <p>所以，我们读取文本或者图片的方法可以分别写成如下形式：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 读取文本</span>
<span class="token keyword">function</span> <span class="token function">readText</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    reader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>reader<span class="token punctuation">.</span>result<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    reader<span class="token punctuation">.</span>onerror <span class="token operator">=</span> reject
    reader<span class="token punctuation">.</span><span class="token function">readAsText</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 读取图片</span>
<span class="token keyword">function</span> <span class="token function">readImage</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    reader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>reader<span class="token punctuation">.</span>result<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    reader<span class="token punctuation">.</span>onerror <span class="token operator">=</span> reject
    reader<span class="token punctuation">.</span><span class="token function">readAsDataURL</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="保存文件"><a href="#保存文件" class="header-anchor">#</a> 保存文件</h2> <p>我们可以利用利用上面返回的  <code>FileSystemFileHandle</code>  来进行文件的保存，如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> writable <span class="token operator">=</span> <span class="token keyword">await</span> fileHandle<span class="token punctuation">.</span><span class="token function">createWritable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">await</span> writable<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span>
<span class="token keyword">await</span> writable<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>如果我们需要保存的文件是一个新的文件，那么我们可以通过  <code>window.showSaveFilePicker</code>  来进行文件的保存，如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> fileHandle <span class="token operator">=</span> <span class="token keyword">await</span> window<span class="token punctuation">.</span><span class="token function">showSaveFilePicker</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">types</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">'Text files'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">accept</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">'text/plain'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.txt'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> writable <span class="token operator">=</span> <span class="token keyword">await</span> fileHandle<span class="token punctuation">.</span><span class="token function">createWritable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">await</span> writable<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span>
<span class="token keyword">await</span> writable<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="文件操作"><a href="#文件操作" class="header-anchor">#</a> 文件操作</h2> <p>目前，Web API 还不支持文件的重命名，移动，复制，删除等操作，但是，我们可以通过  <code>FileSystemDirectoryHandle</code>  来实现这些操作，但是这也意味着，如果你需要对文件做复杂的操作的话，不支持该 API 的浏览器是无法实现的！也无法降级处理，如下是 VSCode 在 Safari 上的表现：</p> <p><img src="https://taro-sources-1253403255.cos.ap-guangzhou.myqcloud.com/2023-6/1682071419472.png" alt=""></p> <p>从选择一个文件夹开始：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">openDir</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> dirHandle <span class="token operator">=</span> <span class="token keyword">await</span> window<span class="token punctuation">.</span><span class="token function">showDirectoryPicker</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token comment">// 获取文件夹下的所有文件</span>
  <span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> handle<span class="token punctuation">]</span> <span class="token keyword">of</span> dirHandle<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// name: 文件名称</span>
    <span class="token comment">// handle: 文件的处理器</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> handle<span class="token punctuation">,</span> handle<span class="token punctuation">.</span>kind <span class="token operator">===</span> <span class="token string">'file'</span> <span class="token operator">?</span> <span class="token string">'文件'</span> <span class="token operator">:</span> <span class="token string">'文件夹'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>我们可以通过递归获取文件的处理器和所有的文件树，每一个文件有一个自己独有的  <code>FileSystemFileHandle</code> ，我们可以通过这个对象来进行文件的操作。</p> <h3 id="创建文件"><a href="#创建文件" class="header-anchor">#</a> 创建文件</h3> <p>创建文件非常简单，我们必须具备一个文件夹的处理器，然后通过  <code>getFileHandle</code>  方法来创建一个新的文件，如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// dirHandle 是一个 FileSystemDirectoryHandle 对象，我们可以通过 window.showDirectoryPicker() 来获取</span>
<span class="token comment">// 也可以在遍历文件夹的过程中进行缓存</span>

<span class="token keyword">const</span> fileHandle <span class="token operator">=</span> <span class="token keyword">await</span> dirHandle<span class="token punctuation">.</span><span class="token function">getFileHandle</span><span class="token punctuation">(</span><span class="token string">'new-file.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">create</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="删除文件"><a href="#删除文件" class="header-anchor">#</a> 删除文件</h3> <p>删除文件也非常简单，我们只需要通过  <code>removeEntry</code>  方法来删除文件，如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">await</span> dirHandle<span class="token punctuation">.</span><span class="token function">removeEntry</span><span class="token punctuation">(</span><span class="token string">'new-file.txt'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="移动文件"><a href="#移动文件" class="header-anchor">#</a> 移动文件</h3> <p>移动文件没有直接的 API 支持，但是只要我们清楚移动文件的本质的话，就可以很容易的实现这个功能，如下：</p> <ul><li>获取需要移动的位置的文件夹的处理器</li> <li>获取需要移动的文件的处理器</li> <li>通过  <code>getFileHandle</code>  方法来创建一个新的文件，将旧文件的内容复制到新文件中</li> <li>通过  <code>removeEntry</code>  方法来删除旧的文件</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 移动文件
 * @param dirHandle 源文件夹句柄
 * @param destDirHandle 目标文件夹句柄
 * @param filename 文件名
 * @param destFileName 目标文件名
 */</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">moveFile</span><span class="token punctuation">(</span><span class="token parameter">dirHandle<span class="token punctuation">,</span> destDirHandle<span class="token punctuation">,</span> filename<span class="token punctuation">,</span> destFileName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取源文件句柄</span>
    <span class="token keyword">const</span> srcFileHandle <span class="token operator">=</span> <span class="token keyword">await</span> dirHandle<span class="token punctuation">.</span><span class="token function">getFileHandle</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span>
    <span class="token comment">// 在目标目录创建新文件句柄</span>
    <span class="token keyword">const</span> destFileHandle <span class="token operator">=</span> <span class="token keyword">await</span> destDirHandle<span class="token punctuation">.</span><span class="token function">getFileHandle</span><span class="token punctuation">(</span>destFileName<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">create</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 读取源文件内容</span>
    <span class="token keyword">const</span> file <span class="token operator">=</span> <span class="token keyword">await</span> srcFileHandle<span class="token punctuation">.</span><span class="token function">getFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> contents <span class="token operator">=</span> <span class="token keyword">await</span> file<span class="token punctuation">.</span><span class="token function">arrayBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 将内容写入目标文件</span>
    <span class="token keyword">const</span> writableStream <span class="token operator">=</span> <span class="token keyword">await</span> destFileHandle<span class="token punctuation">.</span><span class="token function">createWritable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> writableStream<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>contents<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> writableStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 删除源文件</span>
    <span class="token keyword">await</span> dirHandle<span class="token punctuation">.</span><span class="token function">removeEntry</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">成功将文件 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>filename<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 移动到目标目录</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'移动文件失败:'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h3 id="重命名文件"><a href="#重命名文件" class="header-anchor">#</a> 重命名文件</h3> <p>Web 没有直接支持重命名文件的 API，所以我们如上，也是通过  <code>getFileHandle</code>  方法来创建一个新的文件，将旧文件的内容复制到新文件中，然后删除旧文件，直接去调用我们移动文件的方法即可：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">moveFile</span><span class="token punctuation">(</span>dirHandle<span class="token punctuation">,</span> dirHandle<span class="token punctuation">,</span> <span class="token string">'old-file.txt'</span><span class="token punctuation">,</span> <span class="token string">'new-file.txt'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>文件相关的 API 都可以在这里找到：<a href="https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API" target="_blank" rel="noopener noreferrer">MDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>通过上面的内容，我们可以知道，通过 Web API，我们可以直接实现文件的选择，读取，保存，这样就可以实现一些简单的文件操作了，但是，这些 API 还是有一些限制的，比如：</p> <ul><li>必须在安全的环境中操作，如 https，而且操作本地文件是需要经过用户同意的</li> <li>浏览器支持率很低，一般只在 Chrome 能得到良好的支持</li></ul> <p>如果你需要无缝的使用这些功能，可以使用 Chrome 开源的 <a href="https://github.com/GoogleChromeLabs/browser-fs-access" target="_blank" rel="noopener noreferrer">browser-fs-access<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>通过上面的浏览器 API，你可以写出一个简单的浏览器编辑器吗？<strong>去探索，不知道的东西还多着呢！</strong></p> <p>我是泰罗凹凸曼，M78 星云最爱写代码的，我们下一篇再会！</p></div></div> <!----> <div class="page-edit"><!----> <div class="tags"><a href="/blog/tags/?tag=%E6%9C%89%E8%B6%A3%E7%9A%84%E5%B0%8F%E5%AE%9E%E9%AA%8C" title="标签">#有趣的小实验</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">6/14/2023, 12:51:41 AM</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/blog/pages/f93fae/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">尤大：不会说 Rap 的前端不是好前端！写一个 v-rap 指令！</div></a> <a href="/blog/pages/1b3356/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">你需要更优雅的 Dialog/Modal 使用姿势！弹窗组件如何实现业务自驱！</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/blog/pages/f93fae/" class="prev">尤大：不会说 Rap 的前端不是好前端！写一个 v-rap 指令！</a></span> <span class="next"><a href="/blog/pages/1b3356/">你需要更优雅的 Dialog/Modal 使用姿势！弹窗组件如何实现业务自驱！</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/blog/archives" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/blog/pages/34725e/"><div>
            自定义弹窗？你只需要一个标签就够了！
            <!----></div></a> <span class="date">06-08</span></dt></dl><dl><dd>02</dd> <dt><a href="/blog/pages/af5954/"><div>
            从一个想法开始，我是如何实现一个完整的个人作品？
            <!----></div></a> <span class="date">04-23</span></dt></dl><dl><dd>03</dd> <dt><a href="/blog/pages/d371e4/"><div>
            优雅的路由设计，能提升多少开发效率？
            <!----></div></a> <span class="date">03-25</span></dt></dl> <dl><dd></dd> <dt><a href="/blog/archives" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/taroxin" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://juejin.cn/user/4459274890904632/posts" title="掘金" target="_blank" class="iconfont icon-juejin"></a><a href="https://space.bilibili.com/21371785" title="哔哩哔哩" target="_blank" class="iconfont icon-bilibili"></a><a href="mailto:15029352778@163.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2023-2023
    <span>
      <a href='http://taroxin.com' target='_blank'>TaroXin/泰罗凹凸曼</a>
    </span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/blog/assets/js/app.9d423c3b.js" defer></script><script src="/blog/assets/js/11.ebf2347a.js" defer></script><script src="/blog/assets/js/12.52e6032a.js" defer></script><script src="/blog/assets/js/18.677ca2e4.js" defer></script>
  </body>
</html>
